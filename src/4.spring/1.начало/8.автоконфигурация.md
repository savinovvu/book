Автоконфигурация в Spring Boot — это механизм, который автоматически настраивает компоненты приложения на основе:
1. **Зависимостей в classpath** (например, наличие библиотек H2, JPA, Security)
2. **Существующих бинов** в контексте
3. **Настроек в файлах properties/yaml**
4. **Системных переменных**

### Как работает автоконфигурация:
1. **Загрузка конфигураций**: Spring Boot проверяет `META-INF/spring.factories` в jar-файлах зависимостей (в Spring Boot 2.x) или `META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports` (в Spring Boot 3.x).
2. **Условные аннотации**: Конфигурации активируются через условия, например:
   ```java
   @Configuration
   @ConditionalOnClass(DataSource.class) // Если DataSource есть в classpath
   @ConditionalOnProperty(name = "spring.datasource.url") // Если указан URL БД
   public class DataSourceAutoConfiguration {
       // Бин DataSource создается автоматически
   }
   ```

### Примеры автоконфигураций:
- **DataSource**: Если добавили зависимость `spring-boot-starter-jdbc` и указали `spring.datasource.url`.
- **JPA**: Если есть `spring-boot-starter-data-jpa` и классы-сущности.
- **Security**: Если есть `spring-boot-starter-security`, создается дефолтная форма логина.

### Управление автоконфигурацией:
1. **Исключение конфигураций**:
   ```java
   @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})
   ```
2. **Через `application.properties`**:
   ```properties
   spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration
   ```
3. **Ручная настройка**: Если вы определяете свой бин (например, `@Bean DataSource`), автоконфигурация для него отключается.

### Кастомизация:
- **Настройки через properties/yaml**:
  ```yaml
  spring:
    datasource:
      url: jdbc:postgresql://localhost/mydb
      username: user
      password: pass
  ```
- **Создание своей автоконфигурации**:
    1. Создайте класс с `@Configuration` и условиями (например, `@ConditionalOnClass`).
    2. Добавьте его в `META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports`.

### Важно:
- Автоконфигурация **не заменяет** ручную настройку, а дополняет её.
- Используйте `--debug` при запуске, чтобы увидеть отчет о примененных автоконфигурациях.

Для глубокого понимания изучите исходный код классов с суффиксом `AutoConfiguration` в Spring Boot (например, `DataSourceAutoConfiguration`).