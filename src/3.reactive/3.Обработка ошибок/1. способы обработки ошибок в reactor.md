В Reactor есть несколько основных способов обработки ошибок в реактивных потоках. Рассмотрим ключевые операторы:

### 1. **`onErrorReturn`**
Возвращает значение по умолчанию при ошибке.
```java
Flux.just(1, 2, 0)
    .map(i -> 10 / i)
    .onErrorReturn(ArithmeticException.class, -1) // Возвращает -1 при делении на ноль
    .subscribe(System.out::println);
```
**Результат:** `10, 5, -1`.

---

### 2. **`onErrorResume`**
Переключается на альтернативный `Publisher` при ошибке.
```java
Flux.just(1, 2, 0)
    .map(i -> 10 / i)
    .onErrorResume(ArithmeticException.class, e -> Flux.just(-1, -2))
    .subscribe(System.out::println);
```
**Результат:** `10, 5, -1, -2`.

---

### 3. **`doOnError`**
Выполняет side-effect действие при ошибке (не обрабатывает её).
```java
Flux.just(1, 2, 0)
    .map(i -> 10 / i)
    .doOnError(e -> System.out.println("Ошибка: " + e.getMessage()))
    .subscribe(System.out::println);
```
**Результат:**
```
10
5
Ошибка: / by zero
// Завершается с ошибкой ArithmeticException
```

---

### 4. **`retry`**
Повторяет всю последовательность при ошибке.
```java
Flux.just(1, 2, 0)
    .map(i -> 10 / i)
    .retry(1) // Повторить 1 раз
    .subscribe(System.out::println);
```
**Результат:**
```
10
5  // Первая попытка
10
5  // Повторная попытка
// Завершается с ошибкой после повторения
```

---

### 5. **`onErrorMap`**
Преобразует ошибку в другой тип исключения.
```java
Flux.just(1, 2, 0)
    .map(i -> 10 / i)
    .onErrorMap(ArithmeticException.class, 
                e -> new BusinessException("Ошибка вычисления"))
    .subscribe(System.out::println);
```

---

### 6. **`retryWhen`**
Повторяет операцию с учётом контекста ошибки.
```java
Flux.just(1, 2, 0)
    .map(i -> 10 / i)
    .retryWhen(Retry.fixedDelay(2, Duration.ofSeconds(1)))
    .subscribe(System.out::println);
```

---

### 7. **`handle`**
Универсальный оператор для фильтрации и обработки ошибок.
```java
Flux.just(1, 2, 0)
    .handle((i, sink) -> {
        if (i == 0) {
            sink.error(new ArithmeticException("Деление на ноль"));
        } else {
            sink.next(10 / i);
        }
    })
    .subscribe(System.out::println);
```

---

### Итог:
- **`onErrorReturn`** — возвращает значение.
- **`onErrorResume`** — переключается на другой поток.
- **`doOnError`** — логирование без восстановления.
- **`retry`** — повторяет попытку.
- **`onErrorMap`** — преобразует ошибку.
- **`retryWhen`** — гибкая стратегия повтора.
- **`handle`** — ручное управление элементами и ошибками.

Все операторы применяются **по цепочке** и позволяют комбинировать стратегии обработки ошибок.